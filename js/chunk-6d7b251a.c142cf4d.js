(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d7b251a"],{"07d5":function(e,t,a){"use strict";var l=a("7a23");const o=(e,t,a={})=>{let l,o,c;const n={noLeading:!1,noTrailing:!1,...a};let{noLeading:r}=n;const{noTrailing:i}=n,s={clearLastTime(){c=null}};return new Proxy(()=>{},{get(e,t){return s.hasOwnProperty(t)?s[t]:e[t]},apply(a,n,s){if(l=+new Date,c&&l<c+t){if(i)return;clearTimeout(o),o=setTimeout(()=>{c=l,e.call(n,...s)},t)}else r?r=!1:(c=l,e.call(n,...s))}})},c={key:0,class:"c-pa-md",style:{height:"1px"}},n={class:"table-pagination"};var r=Object(l["defineComponent"])({__name:"TableMain",props:{tableColumn:Object,tableData:{type:Array,default(){return[]}},loading:{type:Boolean,default:!0},showDataCount:{type:Number,default:50}},setup(e){const t=e,a=Object(l["useSlots"])(),r=e=>!!a[e];let i=Object(l["ref"])(1);Object(l["onUpdated"])(()=>{i.value=t.tableData.length});let s=Object(l["ref"])(1);const b=Object(l["ref"])(),d=()=>{var e;null===(e=b.value)||void 0===e||e.setScrollTop(0)},u=e=>{s.value=e,d()},p=Object(l["computed"])(()=>{const e=(s.value-1)*t.showDataCount,a=e+t.showDataCount;return t.tableData.slice(e,a)});let m=Object(l["ref"])(500);const O=o(e=>{e.forEach(e=>{m.value=e.contentRect.height-10})},100),j=new ResizeObserver(O),f=Object(l["ref"])(null);return Object(l["onMounted"])(()=>{null!==f.value&&j.observe(f.value)}),Object(l["onUnmounted"])(()=>{j.disconnect()}),(t,a)=>{const o=Object(l["resolveComponent"])("el-skeleton-item"),d=Object(l["resolveComponent"])("el-skeleton"),O=Object(l["resolveComponent"])("el-table-column"),j=Object(l["resolveComponent"])("el-table"),h=Object(l["resolveComponent"])("el-pagination");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("div",{ref_key:"tableMain",ref:f,class:"table-container"},[e.loading?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",c,[Object(l["createVNode"])(d,{count:14,throttle:100,animated:""},{template:Object(l["withCtx"])(()=>[Object(l["createVNode"])(o,{style:{width:"15%",height:"30px",margin:"8px"}}),Object(l["createVNode"])(o,{style:{width:"25%",height:"30px",margin:"8px"}}),Object(l["createVNode"])(o,{style:{width:"45%",height:"30px",margin:"8px"}})]),_:1})])):Object(l["createCommentVNode"])("",!0),e.loading?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createBlock"])(j,{key:1,ref_key:"elTableRef",ref:b,data:Object(l["unref"])(p),height:Object(l["unref"])(m),style:{width:"100%"}},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.tableColumn,e=>(Object(l["openBlock"])(),Object(l["createBlock"])(O,Object(l["mergeProps"])({key:e.prop},e),Object(l["createSlots"])({_:2},[r("column-"+e.prop)?{name:"default",fn:Object(l["withCtx"])(a=>[Object(l["renderSlot"])(t.$slots,"column-"+e.prop,{data:{index:a.$index,row:a.row,column:a.column,prop:e.prop}})]),key:"0"}:void 0]),1040))),128))]),_:3},8,["data","height"]))],512),Object(l["createElementVNode"])("div",n,[Object(l["createVNode"])(h,{background:"",layout:"prev, pager, next",total:Object(l["unref"])(i),"page-size":e.showDataCount,"current-page":Object(l["unref"])(s),"onUpdate:currentPage":u},null,8,["total","page-size","current-page"])])],64)}}}),i=(a("a624"),a("6b0d")),s=a.n(i);const b=s()(r,[["__scopeId","data-v-3a4d2fa1"]]);t["a"]=b},"13d5":function(e,t,a){"use strict";var l=a("23e7"),o=a("d58f").left,c=a("a640"),n=a("2d00"),r=a("605d"),i=c("reduce"),s=!r&&n>79&&n<83;l({target:"Array",proto:!0,forced:!i||s},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},1511:function(e,t,a){"use strict";a.r(t);a("13d5"),a("14d9");var l=a("7a23");const o={class:"table-wrapper"},c={class:"table-main"},n=Object(l["createTextVNode"])("編輯");function r(e,t,a,r,i,s){const b=Object(l["resolveComponent"])("el-input"),d=Object(l["resolveComponent"])("el-form-item"),u=Object(l["resolveComponent"])("el-option"),p=Object(l["resolveComponent"])("el-select"),m=Object(l["resolveComponent"])("el-form"),O=Object(l["resolveComponent"])("TableFilter"),j=Object(l["resolveComponent"])("el-button"),f=Object(l["resolveComponent"])("TableMain");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",o,[Object(l["createVNode"])(O,{class:"table-filter",filterStr:e.filterStr,onClear:e.reset,onSubmit:e.setFilterData},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(m,{ref:"filterFormRef",model:e.filterForm,rules:e.rules,"label-width":"80px",class:"login-container"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(d,{label:e.tableColumn.name.label,prop:"name"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(b,{modelValue:e.filterForm.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filterForm.name=t),placeholder:e.tip(e.tableColumn.name.label),clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),Object(l["createVNode"])(d,{label:e.tableColumn.access.label,prop:"access"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(p,{modelValue:e.filterForm.access,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filterForm.access=t),multiple:"",placeholder:e.tip(e.tableColumn.access.label),style:{width:"100%"},clearable:""},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.options,e=>(Object(l["openBlock"])(),Object(l["createBlock"])(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["filterStr","onClear","onSubmit"]),Object(l["createElementVNode"])("div",c,[Object(l["createVNode"])(f,{"table-column":e.tableColumn,"table-data":e.showTableData,loading:e.loading},{"column-access":Object(l["withCtx"])(({data:e})=>[Object(l["createElementVNode"])("div",null,Object(l["toDisplayString"])(e.row.access.reduce((e,t)=>(t.isShow&&e.push(t.title),e),[]).join(" , ")),1)]),"column-action":Object(l["withCtx"])(({data:t})=>[Object(l["createVNode"])(j,{type:"primary",onClick:a=>e.editData(t.row)},{default:Object(l["withCtx"])(()=>[n]),_:2},1032,["onClick"])]),_:1},8,["table-column","table-data","loading"])])])}var i=a("17de"),s=a("07d5");class b{constructor(){this.name="",this.access=""}}var d=a("3dee");const u=(e,t,a=!0)=>Object(d["a"])(e,t,a),p=[{id:1,userId:11,name:"Admin",access:[{path:"dashboard",name:"Dashboard",title:"儀錶板",isShow:!0},{path:"table",name:"Table",title:"表單",isShow:!0},{path:"user",name:"User",title:"使用者",isShow:!0}]},{id:2,userId:12,name:"Tina",access:[{path:"dashboard",name:"Dashboard",title:"儀錶板",isShow:!0},{path:"table",name:"Table",title:"表單",isShow:!0},{path:"user",name:"User",title:"使用者",isShow:!0}]},{id:3,userId:13,name:"Ace",access:[{path:"dashboard",name:"Dashboard",title:"儀錶板",isShow:!0},{path:"table",name:"Table",title:"表單",isShow:!1},{path:"user",name:"User",title:"使用者",isShow:!1}]}];var m=a("b3ed"),O=a("2ef0"),j=Object(l["defineComponent"])({components:{TableFilter:i["a"],TableMain:s["a"]},setup(){const e=[{label:"儀錶板",value:"Dashboard"},{label:"表單",value:"Table"},{label:"使用者",value:"User"}],t=e=>"請輸入"+e,a=Object(l["ref"])(),o=Object(l["reactive"])(new b),c=Object(l["reactive"])({name:[{required:!1,trigger:"change"}],access:[{required:!1,trigger:"change"}]}),n=["name","access"],r={name:(e="")=>e.length>=0,access:(e=[])=>Object(O["isArray"])(e)},i=Object(l["reactive"])({name:r.name,access:r.access}),s=()=>{n.forEach(e=>{Object(O["isArray"])(o[e])?o[e]=[]:o[e]=""})},d=()=>{n.forEach(e=>{if(o[e].length>0)if(Object(O["isArray"])(o[e]))i[e]=(t=[])=>{const a=t.filter(e=>e.isShow).map(e=>e.name);return o[e].every(e=>a.includes(e))};else{const t=new RegExp(""+o[e]);i[e]=e=>t.test(e)}else i[e]=r[e]})},j=Object(l["computed"])(()=>{let e=[];return n.forEach(t=>{o[t].length>0&&e.push(o[t])}),e.join(" , ")});let f=Object(l["ref"])(!0);const h={userId:{prop:"userId",label:"ID",width:"80"},name:{prop:"name",label:"姓名",width:"180"},access:{prop:"access",label:"權限",minWidth:"180"},action:{prop:"action",label:"操作",width:"90"}};let v=Object(l["reactive"])([]);const w=()=>{u({url:"/posts",method:"get",data:o},p,!1).then(({data:e})=>{v.push(...e),setTimeout(()=>{f.value=!1},1e3)})},g=Object(l["computed"])(()=>{const e=v.filter(e=>Object(m["a"])(i,(t,a)=>t(e[a])));return e});w();const C=e=>{console.log(e)};return{tip:t,options:e,filterFormRef:a,filterForm:o,rules:c,reset:s,setFilterData:d,filterStr:j,showTableData:g,loading:f,tableColumn:h,tableData:v,editData:C}}}),f=(a("3507"),a("6b0d")),h=a.n(f);const v=h()(j,[["render",r],["__scopeId","data-v-2e433222"]]);t["default"]=v},"17de":function(e,t,a){"use strict";var l=a("7a23");const o=e=>(Object(l["pushScopeId"])("data-v-139e4dfc"),e=e(),Object(l["popScopeId"])(),e),c=o(()=>Object(l["createElementVNode"])("span",{class:"filter-title"},"篩選",-1)),n={class:"filter-str"},r={class:"filter-search"},i={class:"dialog-footer"},s=Object(l["createTextVNode"])("返回"),b=Object(l["createTextVNode"])("清空篩選"),d=Object(l["createTextVNode"])("確認");function u(e,t,a,o,u,p){const m=Object(l["resolveComponent"])("font-awesome-icon"),O=Object(l["resolveComponent"])("el-button"),j=Object(l["resolveComponent"])("el-dialog");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("div",{class:"filter-container",onClick:t[0]||(t[0]=t=>e.visible=!0)},[c,Object(l["createElementVNode"])("div",n,Object(l["toDisplayString"])(e.filterStr),1),Object(l["createElementVNode"])("div",r,[Object(l["createVNode"])(m,{icon:"fa-solid fa-magnifying-glass"})])]),Object(l["createVNode"])(j,{modelValue:e.visible,"onUpdate:modelValue":t[1]||(t[1]=t=>e.visible=t),title:"篩選條件"},{default:Object(l["withCtx"])(()=>[Object(l["renderSlot"])(e.$slots,"default",{},void 0,!0)]),footer:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",i,[Object(l["createVNode"])(O,{type:"info",onClick:e.reback},{default:Object(l["withCtx"])(()=>[s]),_:1},8,["onClick"]),Object(l["createVNode"])(O,{type:"warning",onClick:e.clear},{default:Object(l["withCtx"])(()=>[b]),_:1},8,["onClick"]),Object(l["createVNode"])(O,{type:"primary",onClick:e.submit},{default:Object(l["withCtx"])(()=>[d]),_:1},8,["onClick"])])]),_:3},8,["modelValue"])],64)}var p=Object(l["defineComponent"])({props:{filterStr:{type:String,default:""}},emits:["clear","submit"],setup(e,{emit:t}){let a=Object(l["ref"])(!1);const o=()=>{a.value=!1},c=()=>{t("clear")},n=()=>{a.value=!1,t("submit")};return{visible:a,reback:o,clear:c,submit:n}}}),m=(a("8fc8"),a("6b0d")),O=a.n(m);const j=O()(p,[["render",u],["__scopeId","data-v-139e4dfc"]]);t["a"]=j},3507:function(e,t,a){"use strict";a("3d5b")},"3d5b":function(e,t,a){},"605d":function(e,t,a){var l=a("c6b6"),o=a("da84");e.exports="process"==l(o.process)},"8fc8":function(e,t,a){"use strict";a("93b5")},"93b5":function(e,t,a){},a624:function(e,t,a){"use strict";a("b8df")},a640:function(e,t,a){"use strict";var l=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&l((function(){a.call(null,t||function(){return 1},1)}))}},b3ed:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));const l=Object.prototype.hasOwnProperty;function o(e,t,a){a=a||window;for(const o in e)if(l.call(e,o)&&!t.call(a,e[o],o,e))return!1;return!0}},b8df:function(e,t,a){},d58f:function(e,t,a){var l=a("59ed"),o=a("7b0b"),c=a("44ad"),n=a("07fa"),r=TypeError,i=function(e){return function(t,a,i,s){l(a);var b=o(t),d=c(b),u=n(b),p=e?u-1:0,m=e?-1:1;if(i<2)while(1){if(p in d){s=d[p],p+=m;break}if(p+=m,e?p<0:u<=p)throw r("Reduce of empty array with no initial value")}for(;e?p>=0:u>p;p+=m)p in d&&(s=a(s,d[p],p,b));return s}};e.exports={left:i(!1),right:i(!0)}}}]);
//# sourceMappingURL=chunk-6d7b251a.c142cf4d.js.map